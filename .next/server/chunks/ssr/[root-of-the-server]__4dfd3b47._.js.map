{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Documents/my%20first%20web/PHASE-4/Projects/Social%20Media%20App/social-app/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\r\n\r\n\r\nconst globalForPrisma = global as unknown as { \r\n    prisma: PrismaClient\r\n}\r\n\r\nconst prisma = globalForPrisma.prisma || new PrismaClient()\r\n\r\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\r\n\r\nexport default prisma"],"names":[],"mappings":";;;AAAA;;AAGA,MAAM,kBAAkB;AAIxB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6HAAA,CAAA,eAAY;AAEzD,wCAA2C,gBAAgB,MAAM,GAAG;uCAErD","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Documents/my%20first%20web/PHASE-4/Projects/Social%20Media%20App/social-app/src/auth.ts"],"sourcesContent":["import NextAuth from \"next-auth\";\r\nimport Credentials from \"next-auth/providers/credentials\";\r\nimport prisma from \"./lib/prisma\";\r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport const { handlers, signIn, signOut, auth } = NextAuth({\r\n  providers: [\r\n    Credentials({\r\n      credentials: {\r\n        email: { label: \"Email\", type: \"text\" },\r\n        password: { label: \"Password\", type: \"text\" },\r\n      },\r\n      authorize: async (credentials) => {\r\n        //type check validation\r\n        if (\r\n          typeof credentials.email !== \"string\" ||\r\n          typeof credentials.password !== \"string\"\r\n        ) {\r\n          throw new Error(\"Invalid Credentials\");\r\n        }\r\n\r\n        if (!credentials.email || !credentials.password) {\r\n          throw new Error(\"Invalid Credentials\");\r\n        }\r\n\r\n        //find the user\r\n        const user = await prisma.user.findUnique({\r\n          where: {\r\n            email: credentials.email.toLowerCase().trim(),\r\n          },\r\n        });\r\n\r\n        if (!user) {\r\n          throw new Error(\"Invalid Credentials\");\r\n        }\r\n\r\n        //verify the users password\r\n        const isPasswordValid = await bcrypt.compare(\r\n          credentials.password,\r\n          user.password\r\n        );\r\n\r\n        if (!isPasswordValid) {\r\n          throw new Error(\"Invalid Credentials\");\r\n        }\r\n\r\n        //return the user object\r\n        return {\r\n          id: user.id,\r\n          email: user.email,\r\n          username: user.username,\r\n        };\r\n      },\r\n    }),\r\n  ],\r\n  session: {\r\n    strategy: \"jwt\",\r\n  },\r\n  callbacks: {\r\n    async jwt({ token, user }) {\r\n      if (user) {\r\n        token.id = user.id;\r\n      }\r\n      return token;\r\n    },\r\n    async session({ session, token }) {\r\n      if (token && session.user) {\r\n        session.user.id = token.id as string;\r\n      }\r\n      return session;\r\n    },\r\n  },\r\n  pages: {\r\n    signIn: \"/\",\r\n  },\r\n});"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;;;AAEO,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,qJAAA,CAAA,UAAQ,AAAD,EAAE;IAC1D,WAAW;QACT,CAAA,GAAA,0JAAA,CAAA,UAAW,AAAD,EAAE;YACV,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAO;gBACtC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAO;YAC9C;YACA,WAAW,OAAO;gBAChB,uBAAuB;gBACvB,IACE,OAAO,YAAY,KAAK,KAAK,YAC7B,OAAO,YAAY,QAAQ,KAAK,UAChC;oBACA,MAAM,IAAI,MAAM;gBAClB;gBAEA,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,QAAQ,EAAE;oBAC/C,MAAM,IAAI,MAAM;gBAClB;gBAEA,eAAe;gBACf,MAAM,OAAO,MAAM,oHAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACxC,OAAO;wBACL,OAAO,YAAY,KAAK,CAAC,WAAW,GAAG,IAAI;oBAC7C;gBACF;gBAEA,IAAI,CAAC,MAAM;oBACT,MAAM,IAAI,MAAM;gBAClB;gBAEA,2BAA2B;gBAC3B,MAAM,kBAAkB,MAAM,iIAAA,CAAA,UAAM,CAAC,OAAO,CAC1C,YAAY,QAAQ,EACpB,KAAK,QAAQ;gBAGf,IAAI,CAAC,iBAAiB;oBACpB,MAAM,IAAI,MAAM;gBAClB;gBAEA,wBAAwB;gBACxB,OAAO;oBACL,IAAI,KAAK,EAAE;oBACX,OAAO,KAAK,KAAK;oBACjB,UAAU,KAAK,QAAQ;gBACzB;YACF;QACF;KACD;IACD,SAAS;QACP,UAAU;IACZ;IACA,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;YACpB;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,SAAS,QAAQ,IAAI,EAAE;gBACzB,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;YAC5B;YACA,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;IACV;AACF","debugId":null}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Documents/my%20first%20web/PHASE-4/Projects/Social%20Media%20App/social-app/src/app/%28protected%29/layout.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { auth } from \"../../auth\";\r\nimport { redirect } from \"next/navigation\";\r\n\r\nexport default async function Layout({\r\n  children,\r\n}: Readonly<{ children: React.ReactNode }>) {\r\n  const session = await auth();\r\n\r\n  if (!session) {\r\n    redirect(\"/\");\r\n  }\r\n  return <>{children}</>;\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AAAA;;;;AAEe,eAAe,OAAO,EACnC,QAAQ,EACgC;IACxC,MAAM,UAAU,MAAM,CAAA,GAAA,2GAAA,CAAA,OAAI,AAAD;IAEzB,IAAI,CAAC,SAAS;QACZ,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IACA,qBAAO;kBAAG;;AACZ","debugId":null}}]
}