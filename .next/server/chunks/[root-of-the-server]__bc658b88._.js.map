{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Documents/my%20first%20web/PHASE-4/Projects/Social%20Media%20App/social-app/src/app/api/auth/register/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport prisma from \"@/prisma\";\r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const { fullName, username, email, password } = await req.json();\r\n\r\n    if (!fullName || !username || !email || !password) {\r\n      return NextResponse.json(\r\n        { error: \"All fields are required\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Check existing user (email or username)\r\n    const existingUser = await prisma.user.findFirst({\r\n      where: {\r\n        OR: [{ email }, { username }],\r\n      },\r\n    });\r\n\r\n    if (existingUser) {\r\n      return NextResponse.json(\r\n        { error: \"Email or username already exists\" },\r\n        { status: 409 }\r\n      );\r\n    }\r\n\r\n    // Hash password\r\n    const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n    // Create user\r\n    const newUser = await prisma.user.create({\r\n      data: {\r\n        fullName,\r\n        username,\r\n        email,\r\n        password: hashedPassword,\r\n      },\r\n    });\r\n\r\n    return NextResponse.json(\r\n      { message: \"Account created\", userId: newUser.id },\r\n      { status: 201 }\r\n    );\r\n  } catch (err) {\r\n    console.error(\"REGISTER ERROR:\", err);\r\n    return NextResponse.json(\r\n      { error: \"Sign up failed. Try again.\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;;;;;AAEA;;;;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAE9D,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,UAAU;YACjD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA0B,GACnC;gBAAE,QAAQ;YAAI;QAElB;QAEA,0CAA0C;QAC1C,MAAM,eAAe,MAAM,OAAO,IAAI,CAAC,SAAS,CAAC;YAC/C,OAAO;gBACL,IAAI;oBAAC;wBAAE;oBAAM;oBAAG;wBAAE;oBAAS;iBAAE;YAC/B;QACF;QAEA,IAAI,cAAc;YAChB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAmC,GAC5C;gBAAE,QAAQ;YAAI;QAElB;QAEA,gBAAgB;QAChB,MAAM,iBAAiB,MAAM,mIAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU;QAEnD,cAAc;QACd,MAAM,UAAU,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC;YACvC,MAAM;gBACJ;gBACA;gBACA;gBACA,UAAU;YACZ;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAmB,QAAQ,QAAQ,EAAE;QAAC,GACjD;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA6B,GACtC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}